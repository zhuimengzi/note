### HTML词法解析

对我们来说HTML其实首先是一坨字符串。

嗯，考虑到我们不能等下载完成再开始解析，实际上我们要面对的是"字符流"。

为了把字符流解析成正确的DOM结构，我们需要做的事情分为两步：

- 词法分析：把字符流初步解析成我们可理解的"词"，学名叫token
- 语法分析：把开始结束标签配对、属性赋值好、父子关系连接好、构成dom树

根据这样的分析，现在我们开始从字符流读取字符，嗯假设是<的话，我们一下子就知道这不是一个文本节点啦！

之后再读一个字符，比如就是 x,那么一下子就知道又不是注释和CDATA了，接下来我们就一直读，直到遇到>或者空格，就得到了一个完整的token了。

那么实际上我们每读入一个字符，都要做一次决策，而且这些决定跟“当前状态”有关。这是一个典型的状态机场景。