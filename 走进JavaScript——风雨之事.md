## 走进JavaScript—风雨之事

在当今如果做前端不会点javascript那是连工作都很难找的，足以说明javascript的重要性，可在那荒唐的年代javascript之父（Brendan Eich）是没有想到会有今日的，如果Brendan Eich知道有今日，也许javascript就不会是现在这个样子了，当然如果仅仅是Brendan Eich知道也是没有用的，还需要Netscape公司的高层管理知道，因为就是当时Netscape公司的高层管理命令Brendan Eich必须将这门语言设计成看起来像Java的。

> 我到网景本来是要做一个浏览器中的Scheme的,管理者给过这样的承诺,这就像一个诱饵,结果我来了之后,管理者改变了主意. 我从大学期间就开始研究编程语言的实现,仅仅为了好玩.在我工作生涯的早期,我为SGI公司写过一个数据包嗅探工具.我是强烈的C/Unix迷.我从底层了解C的核心语法.网景让我来实现JavaScript,仅仅是因为我干的比较快,如果给更充分的时间,许多人都可以比我做的更好,或者即使和我一样没有足够的时间,也能比我做的更好,谁知道呢?但在当时的网景,没有人能够做到,那机会就是我的了.

许多人说javascript很简洁，如：Brendan Eich在2005年博客的一篇[文章](https://brendaneich.com/2005/06/javascript-1-2-and-in-between/)中说到的：

> 我经常想象JavaScript的过去和未来，尽管JS被错误地命名了，标准化过早，然后在大部分时间内被忽略和停滞，它的语法足够强大，整个生态学的工具包和网络应用程序代码已经出现在其上。 
>
> JS / DHTML工具包中有太多的“你必须使用我们的API来处理所有事情，包括如何操纵字符串。一些很酷的东西，例如TIBET，看起来很像Smalltalk。有些具有实际价值，例如Oddpost，雅虎收购的DHTML工具包可能与建立在该工具包上的邮件客户端一样多。
>
> 然而，没有一个JS工具包在网络上大有脱节，可能更多的是考虑到学习和捆绑任何给定的API的成本，而不是因为“你必须使用我们的API和只有我们的API”问题。所以人们不断发明自己的工具包。
>
> 在JS之上发明工具包和扩展系统很酷。我希望会发生这种情况，因为在Netscape 2和3期间，我承受着极大的压力，要尽量减少JS语法，实现JS-DOM，并将Java推迟到“真正的编程”（这是一个错误，但直到Netscape雇用的不仅仅是临时实习生或借款人的帮助，在Netscape 4工作开始的时候，我是整个“JS团队” - 所以委托给Java似乎是一个好主意。因此，在最小化JS语言的过程中，我添加了明确的基于原型的委托，允许用户在同一给定的单原型命名空间中使用自己的方法来补充内置方法。

这或许就是为什么JS语法这么少的原因了。





大多数JS开发人员不知道Scheme，并没有编写尾递归或有意的尾调用代码。



那个“标准化过早”的链接真的很奇怪。有些部分似乎是合理的，或多或少符合我对JS（全局对象和function.length与function.arguments.length是两个这样的项目）的理解），但是我不能诚实地想到任何理由甚至考虑其他部分（像他主张几乎抛出保留字的全部想法的整个部分）。为什么在世界上你想允许变量名为“var”，“while”或“function”（甚至更糟的是，使这些功能在当前范围内死亡）？除了布尔运算符&&，||等之外，他的运营商提案也符合+ =，* =等等。这种方法的有用性没有，因为你真的看不到它们在条件表达式。
对于未来的想法，我认为寻找包含当前文件外的代码的方法是值得做的。 CSS可以使用@import导入其他CSS。 C / C ++有#include从其他地方提取代码。 Java有进口。据我所知，在JavaScript中没有什么相似之处。人们一直在做document.write（“<script src ='...'）一段时间，但只适用于类似HTML的非XML环境。我真的有兴趣看到一些方法从当前来源外部导入代码并对其进行评估。 （这当然假设我没有错过这个功能在当前的规格，但我非常怀疑我会错过一些有用的东西，因为这可能是）
无论如何，我现在完成了漫游。保持帖子！

我们保留了所有Java的标识符（Java 1或其他任何回到95年代），ECMA-262也保留了相同的单词，但并不是所有的Mozilla的C引擎（SpiderMonkey）保留。这导致了错误240317。
道格的观点是，如果我们可以预留更少的话，为什么要保留呢？那么诀窍就是使错误报告和恢复与保留的标识符一样好。
语言实现者更简单地保留一些单词。但是如果用户不用保留这些话可能不会更糟，为什么不这样呢？如果有人想要命名一个函数“switch”，并且这个函数从来没有在顶级表达式语句的最左边部分中调用，那么就没有歧义。
对于ECMA-262来说太迟了，但是我会回头恭维你的;-)。
我谈论生产和消费包装的项目意味着在语言中的某种进口机制。包名称如何映射到文件名或.jar文件中的成员可能是JS嵌入特有的，因此不是标准化的。

阿德里安：你可以通过|这个| 参数setTimeout或setInterval，但它需要一个帮助函数：
setInterval（function（t）{animate.call（t）;}，50，this）;
请注意，第一个arg是一个函数引用，而不是字符串。 这可能不是众所周知的，但是与Function.prototype.call（或.apply）和额外的拖尾参数setInterval（或setTimeout）结合使用时，它将执行该作业。

我一直在使用SpiderMonkey约5年，现在嵌入在我们自己的服务器端环境中。我根据我们的环境编写了一些复杂的JS应用程序。我对JS的前进方向的指导/建议将是保持简单，保持快速，保持较小。
我没有看过JS2一段时间，但我当时的印象是它正在试图成为C ++ / Java。我认为这是错误的方向 - 但可能是由委员会设计的结果。
保持简单：我想我会认为即使E4X太复杂了。核心语言允许您进行处理XML所需的一切工作，而不会进一步膨胀核心引擎。不仅如此 - 许多环境已经拥有完整的XML处理库，因此现在重复了代码。
保持速度：在浏览器环境中的速度不是一个巨大的问题，但服务器端的JavaScript比PHP好多了 - 但是在这种环境中，您可能会同时运行100个JavaScript实例。不要使运行时检查引擎超载，以成为一个“成年人”的语言。
保持较小：在服务器环境中，重要性也是重要的。不要让核心语言膨胀，可以将*放置在库中的所有东西来实现#include等价物已经存在。您有一个预测函数来加载源，后跟一个eval（）。
我个人认为，核心语言现在基本上有一些调整。那应该形成可以分层的核心库的基础。我可以对SpiderMonkey等具体实现做出一些“有用”的增强，但这些与语言无关。

ES4在目前的状态下很麻烦。 JavaScript（我将从这里引用为“ES”）一直是使用唯一的对象模型的一个闪亮的例子。将类添加到混合中只会产生不一致，并使语言更像只是其他语言。我认为这种语言将从更传统的继承机制（通过添加一个“继承”方法或类似于功能原型来描述构造函数的继承链）而获益更多，而不是创建不一致（与类对象没有对象）。构造函数，至少在JScript.NET中，似乎已经实现了大量的ES4 / JS2 / Spice建议[在一个不太合适的fasion中]）。我在这些建议中没有提到如何处理那种继承于将这样的事情作为第二个对象模型添加到语言中的不合理，而且在我看来，我并没有创造任何好处。原型对象模型已经是完全足够的，如果没有证明比替代模型更灵活，可能更强大。
至于ECMA-357，我有印刷版，我已经看过它，它让我想起了AWK。 E4X深深地依赖于当前的XML（当前规范）XML，这似乎是一个重大的缺陷，这将导致ES进入一个小生境语言类别，这将不太受益。 （即使XML在这里留下来）W3C对DOM建议的建设十分重视，我认为这是完全足够的。 E4X添加了很多语法，对于ES本身来说，它的优势非常少，对于那些懒惰使用DOM API而言，似乎没有别的简单。
我认为ES会大大受益于运营商重载，我认为它的存在已经很久了。我认为应该创建一个独立的机制，以一种原型方式添加运算符。 （Constructor.operator []会很有意义）我认为，添加ES的所有这些努力不需要（类，静态类型）将更好地在客户端之外创建一个适当的，轻量级的可扩展开发环境网络和桌面应用程序，让我们可以利用ES已经有了很大的优势。

我不知道你的意思是“最后一次检查新的String（）不是一个原始类型的包装器”。在JS1中，这是Java感染的结果，与1995年疯狂的Netscape 2中的懒惰结合在一起。JS2应该消除这种“拳击”。一切都是一个对象，如Smalltalk（应该）教我们的。
当然，道格拉斯·克罗克福德（Douglas Crockford）也犯了一些错误，但是他是对的，那个类型是相当破裂的。 typeof null ==“object”？我在想什么？我们应该在ECMA-262版本1中修正。

[JavaScript: 世界上最被误解的语言](http://javascript.crockford.com/zh/javascript.html)

[JavaScript：从最受误解的编程语言演变为最流行的语言](http://blog.csdn.net/zhangxin09/article/details/5748666)



